<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>좌석 예매 시뮬레이터</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
            color: #212529;
        }
        .seat-map {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 10px;
            margin: 20px auto;
            max-width: 500px;
        }
        .seat {
            aspect-ratio: 1 / 1;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .seat.available {
            background-color: #d3d3d3;
        }
        .seat.available:hover {
            background-color: #b0b0b0;
        }
        .seat.selected {
            background-color: #0d6efd;
        }
        .seat.reserved {
            background-color: #dc3545;
            cursor: not-allowed;
        }
        .screen {
            background-color: #343a40;
            color: white;
            padding: 5px;
            text-align: center;
            margin: 20px auto;
            max-width: 500px;
            border-radius: 3px;
        }
        .legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .legend-box {
            width: 20px;
            height: 20px;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div class="container text-center mt-4">
        <h1>좌석 예매 시뮬레이터</h1>

        <div class="legend">
            <div class="legend-item">
                <div class="legend-box available" style="background-color: #d3d3d3;"></div>
                <span>선택 가능</span>
            </div>
            <div class="legend-item">
                <div class="legend-box selected" style="background-color: #0d6efd;"></div>
                <span>선택됨</span>
            </div>
            <div class="legend-item">
                <div class="legend-box reserved" style="background-color: #dc3545;"></div>
                <span>예매 완료</span>
            </div>
        </div>

        <div class="screen">SCREEN</div>
        <div id="seat-map" class="seat-map"></div>

        <p class="mt-3">
            <span id="selected-count">0</span>개의 좌석을 선택했습니다.
        </p>
        <button id="reserve-btn" class="btn btn-primary btn-lg">선택 좌석 예매</button>
    </div>

    <script>
        const seatMap = document.getElementById('seat-map');
        const selectedCountSpan = document.getElementById('selected-count');
        const reserveBtn = document.getElementById('reserve-btn');

        const ROWS = 6;
        const COLS = 10;

        // 좌석 생성
        for (let i = 0; i < ROWS * COLS; i++) {
            const seat = document.createElement('div');
            seat.classList.add('seat', 'available');
            seat.dataset.seatId = i;
            seatMap.appendChild(seat);
        }

        // 좌석 클릭 이벤트
        seatMap.addEventListener('click', (e) => {
            const seat = e.target;
            if (seat.classList.contains('available')) {
                seat.classList.remove('available');
                seat.classList.add('selected');
            } else if (seat.classList.contains('selected')) {
                seat.classList.remove('selected');
                seat.classList.add('available');
            }
            updateSelectedCount();
        });

        // 예매하기 버튼 클릭 이벤트
        reserveBtn.addEventListener('click', () => {
            const selectedSeats = document.querySelectorAll('.seat.selected');
            if (selectedSeats.length === 0) {
                alert('예매할 좌석을 선택해주세요.');
                return;
            }
            selectedSeats.forEach(seat => {
                seat.classList.remove('selected');
                seat.classList.add('reserved');
            });
            alert(`${selectedSeats.length}개의 좌석이 예매 완료되었습니다.`);
            updateSelectedCount();
        });

        // 선택된 좌석 수 업데이트
        function updateSelectedCount() {
            const selectedSeats = document.querySelectorAll('.seat.selected');
            selectedCountSpan.textContent = selectedSeats.length;
        }
    </script>
</body>
</html>
